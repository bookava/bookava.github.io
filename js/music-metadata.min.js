/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/music-metadata@11.7.3/lib/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{fromFile,fromStream}from"strtok3";import initDebug from"debug";import{CouldNotDetermineFileTypeError,parseFromTokenizer,UnsupportedFileTypeError}from"./core.js";import{ParserFactory}from"./ParserFactory.js";export*from"./core.js";const debug=initDebug("music-metadata:parser");export async function parseStream(r,e,o={}){const t=await fromStream(r,{fileInfo:"string"==typeof e?{mimeType:e}:e});try{return await parseFromTokenizer(t,o)}finally{await t.close()}}export async function parseFile(r,e={}){debug(`parseFile: ${r}`);const o=await fromFile(r),t=new ParserFactory;try{const a=t.findLoaderForExtension(r);a||debug("Parser could not be determined by file extension");try{return await t.parse(o,a,e)}catch(e){throw(e instanceof CouldNotDetermineFileTypeError||e instanceof UnsupportedFileTypeError)&&(e.message+=`: ${r}`),e}}finally{await o.close()}}
//# sourceMappingURL=/sm/3eec2facb1716d390181acb16056285ae021d855e11e598eba718d401240d999.map